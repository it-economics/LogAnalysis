buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath('se.transmode.gradle:gradle-docker:1.2')
    }
}

apply plugin: 'docker'

// This is used as the docker image prefix (org)
group = 'iteloganalysis'

docker {
    baseImage "iteloganalysis/tomcat"
}

task buildDocker(type: Docker ) {
  addFile('install.sh', '/tmp/install.sh' )
  addFile('index.html', '/var/lib/tomcat7/webapps/ROOT/' )
  runCommand('chmod u+rwx /tmp/install.sh && /tmp/install.sh && rm /tmp/install.sh')
}

repositories {
    mavenCentral()
}
